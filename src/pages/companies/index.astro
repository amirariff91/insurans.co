---
import Base from '../../layouts/Base.astro';
import companies from '../../data/companies.json';

const schema = {
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": "Insurance Companies in Malaysia",
  "description": "Complete directory of insurance and takaful companies in Malaysia.",
  "url": "https://insurans.co/companies/"
};
---

<Base
  title="Insurance Companies in Malaysia — Full Directory 2026"
  description="Complete list of insurance and takaful companies in Malaysia. Compare Etiqa, Allianz, AIA, Tokio Marine, Great Eastern, Prudential, and more."
  schema={schema}
>
  <section class="container-wide py-12">
    <nav class="text-sm text-gray-500 mb-6">
      <a href="/" class="hover:text-primary-600">Home</a>
      <span class="mx-2">›</span>
      <span class="text-gray-900">Insurance Companies</span>
    </nav>

    <h1 class="text-4xl font-extrabold mb-4">Insurance Companies in Malaysia</h1>
    <p class="text-lg text-gray-600 mb-10 max-w-3xl">
      Complete directory of insurance and takaful providers operating in Malaysia. 
      Click on any company for detailed reviews, product information, and comparisons.
    </p>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      {companies.map((company) => (
        <a href={`/companies/${company.slug}/`} class="card group">
          <div class="flex items-start justify-between mb-3">
            <div>
              <h2 class="text-lg font-bold text-gray-900 group-hover:text-primary-600 transition-colors">
                {company.name}
              </h2>
              <p class="text-xs text-gray-500">{company.fullName}</p>
            </div>
            <span class="text-sm font-semibold text-amber-600 bg-amber-50 px-2 py-0.5 rounded">
              ★ {company.rating}
            </span>
          </div>
          <p class="text-sm text-gray-600 mb-4 line-clamp-2">{company.description}</p>
          <div class="flex flex-wrap gap-2 mb-3">
            {company.products.map((product) => (
              <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full capitalize">
                {product.replace('-', ' ')}
              </span>
            ))}
          </div>
          <div class="flex items-center gap-3 text-xs text-gray-500">
            <span>Est. {company.founded}</span>
            {company.takaful && <span class="text-accent-700 font-medium">☪️ Takaful</span>}
          </div>
        </a>
      ))}
    </div>
  </section>
</Base>
